Lesson 4\nConfiguring and Troubleshooting Networks\n\nLESSON INTRODUCTION\n\nIn a previous lesson, you identified networking technologies. With that knowledge, you are now Prepared to implement those technologies. In this lesson, you will install and configure networking capabilities.\n\nAs a CompTIA A+ technician, your duties will include setting up and configuring computers so that they can connect to a network. By installing, configuring, and troubleshooting networking capabilities, you will be able to provide users with the connectivity they need to be able to perform their job duties.\n\nLESSON OBJECTIVES\n\nIn this lesson, you will:\n\n• Configure Windows settings for different types of Internet and VPN connections.\n\n• Install and configure SOHO router/modems and set up secure wireless access.\n\n• Configure firewall settings and browser options to ensure safe Internet use on a SOHO network.\n\n• Use remote access technologies to connect to hosts over a network.\n\n• Troubleshoot wired and wireless problems plus IP configuration issues using command-line tools.\ntag:C2 L4

Topic A\nConfigure Network Connection Settings\n\nEXAM OBJECTIVES COVERED\n1001-2.3 Given a scenario, install and configure a basic wired/wireless SOHO network.\n1002-1.6 Given a scenario, use Microsoft Windows Control Panel utilities.\n1002-1.8 Given a scenario, configure Microsoft Windows networking on a client/desktop.\n\nOnce all the hardware connections are made in a networking environment, you will need to make sure that the operating system is configured to use the hardware successfully. It is important to fully understand not only the hardware and the connections within a network, but also how Windows will need to be setup and configured to accomplish connectivity with the resources of a network.\ntag:C2 L4 TA

NIC PROPERTIES\n\nA computer joins a network by connecting the network adapter—or Network Interface Card (NIC)—to a switch or wireless access point. For proper end user device configuration, the card settings should be configured to match the capabilities of the network appliance.\ntag:C2 L4 TA

WIRED NETWORK CARDS\n\nAlmost all wired network adapters are based on some type of Ethernet. The adapter’s media type must match that of the switch it is connected to. Most use copper wire cable (RJ-45 connectors), though installations in some corporate networks may use fiber optic connections. The adapter and switch must also use the same Ethernet, settings. The main parameters are:\n\n• Signaling speed—most devices you will see will support Gigabit Ethernet, working at a nominal data rate of 1 Gbps. Older standards include Fast Ethernet (100 Mbps) and "plain" Ethernet (10 Mbps). Most network adapters will work at all three speeds. There is also a 10 Gbps standard, though this is not often used for desktop machines as the adapters and switches are expensive.\n\n• Half or full duplex—this determines whether the connection transfers data in both directions simultaneously (full duplex) or not (half duplex). The overwhelming majority of devices use full duplex. Gigabit Ethernet requires full duplex to work.\n\nMost wired network adapters will autonegotiate network settings such as signaling speed and half- or full duplex operation with the switch. For this to work, both the port on the switch and the network adapter should be configured to use the “Autonegotiate" setting, which should be the default.\n\nIf these settings do need to be configured manually, locate the adapter in Device Manager, right-click and select Properties, then update settings using the Advanced tab.\n \n[file:///fig-core-2-247.png]\nEthernet adapter properties in Device Manager. (Screenshot used with permission from Microsoft)\n\nMost of the other settings can be left to the default. In some circumstances, you may be able to improve performance or troubleshoot connectivity problems by enabling or disabling or tweaking the parameters for settings such as jumbo frames, buffers, scaling, and offloads.\ntag:C2 L4 TA

Qos\n\nQuality of Service (QoS) means using a network protocol to prioritize certain types of traffic over others. Enterprise networks can use QoS protocols to make sure traffic such as Voice over IP calling or video conferencing is given higher priority than traffic where the timing of packets is less important, such as ordinary file downloads.\n\nQoS parameters are usually configured on a managed switch. In the network adapter properties, you may need to enable the QoS protocol ("802.1p" or "QoS Packet Tagging," for instance). It is possible that QoS may also be controlled by a higher level protocol, which would be configured via the QoS Packet Scheduler client software installed by default on the OS's logical adapter.\ntag:C2 L4 TA

ONBOARD NETWORK CARDS\n\nMost computers come with an onboard Gigabit Ethernet network adapter as part of the system chipset. The port will be an RJ-45 type for use with twisted-pair cabling. If there is any issue with the onboard NIC, the first step should be to use the BIOS/UEFI system setup program to find out whether it is enabled (look in the "Integrated Peripherals" or "Onboard Devices" section). You might disable the onboard adapter if installing a plug-in card.\ntag:C2 L4 TA

WIRELESS NETWORK CARDS.\n\nThe most important setting on a wireless card is support for the 802.11 standard supported by the access point. Most cards are set to support any standard available. This means that a card that supports 802.111n will also be able to connect to 802.11g and 802.11b networks.\n\nWith the card shown in the following figure, for instance, you can enable or disable 802.11n Mode and select either mixed support for 802.1 ib/g or force use of either. For 802.11.n, you can also configure whether to use channel bonding.\n\nNote: Making a network work in compatibility mode can reduce the performance of the whole network.\n\nA couple of other settings are of interest:\n\n• Roaming Aggressiveness—when the adapter starts to move out of range of one access point, it might try to connect to another one with a better signal. Roaming aggressiveness determines how tolerant the adapter is of weak signals. If you use multiple APs, tweaking this setting up or down might result in better performance.\n\n• Transmit Power—this sets the radio power level. Its typically set to the highest possible by default.\n\n[file:///fig-core-2-248.png]\nWireless network adapter properties in Device Manager. (Screenshot used with permission from Microsoft)\n\nNote: You might see a setting for “Ad hoc QoS Mode" on a wireless adapter. This enables Wireless Multimedia (WMM), which is a Wi-Fi specification for delivering QoS over wireless networks.\ntag:C2 L4 TA

WAKE ON LAN\n\nWake on LAN (Wol) allows you to start up a computer remotely. When the computer is switched off (but not unplugged), the network card can be kept active using standby power. The administrator would use network software to broadcast a “magic packet” to the NIC; when it receives it, the NIC initiates the computer's boot process.\n\n[file:///fig-core-2-249.png]\nWot settings for a network adapter. (Screenshot used with permission from Microsoft.)\n\nSome devices with wireless chipsets come with Wake-on-Wireless LAN (WoWLAN), but the technology is not so widely supported.\ntag:C2 L4 TA

NETWORK CONNECTIONS IN WINDOWS 7 AND WINDOWS 8\n\nHaving verified connection properties of the Ethernet or Wi-Fi interface, you must also configure the card with the appropriate network client software and protocol, including, addressing information relevant to the protocol.\n\nMost Ethernet and Wi-Fi networks use the Internet Protocol (IP) with a DHCP server, which means that the card receives address parameters automatically.\n\nNETWORK AND SHARING CENTER\nIn Windows® 7 and Windows 8, the Network and Sharing Center is used to provide an overview of network availability and configuration. Right-click the network status icon. in the notification area and select Open Network and Sharing Center or open the applet via Control Panel.\n\n[file:///fig-core-2-250.png]\nWindows 7 Network and Sharing Center. (Screenshot used with permission from Microsoft)\n\nWIRED NETWORK CONNECTIONS\nTo access the adapter property sheets, select Change adapter settings. In Windows 8, the option is labeled Manage network connections.\n\nNote: Alternatively, run ncpa . cp 1 from the Instant Search box or Run dialog box.\n\nIn Windows 7, the wired network adapter will be listed as Local Area Connection (though you can rename it if you prefer), whereas a wireless adapter will be listed as Wireless Network Connection. In Windows 8, the adapters are named Ethernet and WiFi.\n \n[file:///fig-core-2-251a.png]\nNetwork Connections in Windows 7. (Screenshot used with permission rom Microsoft)\n\nADAPTER PROPERTIES\nRight-click an adapter and select Properties to configure settings or Status to view information about the connection. From the Properties dialog box, you can add or configure the appropriate service, protocol, or client.\n\n[file:///fig-core-2-251b.png]\nLocal Area Network Adapter properties. (Screenshot used with permission from Microsoft)\n\n• Clients provide connections to types of file servers, such as Linux/UNIX or Windows.\n\n• Protocols provide the format for addressing and delivering data messages between systems, the most widely adopted being TCP/IP.\n\n• Services allow your machine to provide network functionality to other machines.\n\nBy default, the following clients, protocols, and services are installed on the default Ethernet adapter:\n\n* Client for Microsoft Networks.\n\n• File and Print Sharing for Microsoft Networks.\n\n• Internet Protocol—both IP version 4 and IP version 6 will be installed. The network adapter automatically uses the appropriate version of the protocol depending on the network it is connected to.\n\n• Link-layer Topology Discovery—provides the network mapping and discovery functions in the Network and Sharing Center.\n\nChecked items are described as being "bound" to an adapter. When installing a new protocol or service, check that it is only bound to adapters that should be using that protocol or service.\n\nWIRELESS NETWORK CONNECTIONS\nTo join a WLAN, click the network status icon in the notification area and select from the list of displayed networks. If the access point is set to broadcast the network name or Service Set ID (SSID), then the network will appear in the list of available networks. The bars show the strength of the signal and the lock icon indicates whether the network uses encryption. To connect, select the network then enter the pre-shared key (or log on in the specified way if using a network authentication server).\n\nIf you choose the Connect automatically option, Windows will use the network without prompting whenever it is in range.\n\n[file:///fig-core-2-252.png]\nConnecting to a network using Windows 7. (Screenshot used with permission from Microsoft.)\n\nIf the WLAN is not shown (if SSID broadcast is disabled), click Open Network and Sharing Center then Set up a new connection or network and proceed by entering the network SSID, security information, and network location type.\ntag:C2 L4 TA

NETWORK CONNECTIONS IN WINDOWS 10\n\nWindows 10 manages network settings via the Network & Internet section in the Settings app. Use the Status page to monitor the current network connection. There are links to the Network and Sharing Center and Network Connections applets (via Change adapter options) from there.\n\n[file:///fig-core-2-253.png]\nWindows 10 Network & Internet Settings app. (Screenshot used with permission from Microsoft.)\n\nYou can join a wireless network using the network status icon in the notification area. If you need to input WLAN settings manually, from the Network & internet page, select WiFi + Manage known networks~ Add a new network.\ntag:C2 L4 TA

IP ADDRESS CONFIGURATION\n\nIP address properties can be configured through the network connection's Properties dialog box. Both wired and wireless adapters are configured in the same way. By default, Windows machines obtain an IP address dynamically, but you can configure a static IP address and other settings, such as DNS servers.\n \n[file:///fig-core-2-254.png]\nInternet Protocol version 4 (TCP/IP/v4) Properties dialog box. (Screenshot used with permission from Microsoft)\n\nNote: A machine can communicate with local hosts with a valid iP address and subnet mask but cannot communicate with other networks unless a default gateway is specified.\n\nNote: A machine that cannot access a DNS server will not be able to resolve host names or web addresses. As DNS is a critical service, two server addresses are usually specified for redundancy.\n\nNote: In Windows 10, you can also configure IP via the Settings interface. Select Network & Internet then Ethernet or WiFi as appropriate. Click the adapter or WLAN SSID. Under “IP Settings," click the Edit button.\n\nAUTOMATIC IP CONFIGURATION AND DHCP\nConfiguring IP addresses and other TCP/IP network information manually raises many difficult administrative issues and makes misconfiguration of one or more hosts more likely. A Dynamic Host Configuration Protocol (DHCP) service can be provided by a Windows Server or by a device such as a switch or router. DHCP can allocate an IP address to a new machine joining the network. To use DHCP, select the Obtain an IP address automatically option. If a Windows machine fails to obtain an IP address dynamically, it will utilize an Automatic Private IP Addressing (APIPA) address from a reserved range (169.254.x:y).\n\nALTERNATE CONFIGURATION\nWindows allows you to define an alternative IP address configuration for a machine if it cannot contact a DHCP server and using APIPA is unsuitable. This is useful in the scenario where you have a laptop computer connecting to DHCP in a corporate network but that requires a static IP address on the user's home network.\n\n[file:///fig-core-2-255.png]\nTCPAP Alternate Configuration dialog box. (Screenshot used with permission from Microsoft)\n\nNote: The Alternate Configuration tab is not displayed unless the Obtain an IP address automatically option is selected,\ntag:C2 L4 TA

OTHER NETWORK CONNECTIONS\n\nMost residential and small office networks connect to the Internet via a SOHO "router." These Internet appliances combine a 4-port switch and wireless access point with a router/modem that can connect to the ISP's network over DSL. or Hybrid Fiber Coax (HFC) lines. The computers connect to the router by using the switch ports or access point and are assigned an IP configuration by a DHCP server running in the appliance. Correctly configuring the Ethernet or WiFi adapter in Network Connections will allow the computer to join this type of network.\n\nThere are a number of other ways of connecting to the Internet and other remote networks, however.\n\nDIAL-UP\nA dial-up connection uses an analog modem to dial another modem on the ISP's remote access server, which then transfers the data onto the ISP's network and to and from the wider Internet. The call is placed in the same way as a voice call and may incur connection charges. The maximum link speed is just 56 Kbps.\n\nNote: Given perfect line conditions, modems can work at up to 56 Kbps downlink and 48 Kbps uplink. Line conditions are rarely perfect, however, and actual speeds may be a lot lower.\n\nTo create a dial-up connection, a modem must be installed in the computer or an external modem can be connected via USB. The dial-up port on the modem should then be connected to the phone socket. This is typically done using a silver satin cable with an RJ-11 connector for the modem and a suitable connector for the phone point, depending on region. For example, in the US an RJ-11 connector is used, but in the UK, a BT connector is often required. Regardless of the physical interface, the modem must. be installed to one of the computer's software COM ports. The modem must also be configured with the local dialing properties, such as access prefix for an outside line, area code, and so on.\n\n[file:///fig-core-2-256.png]\nConfiguring a dia-up connection in Windows 7. Screenshot used with permission from Microsoft)\n\nYou can use the Set Up a Connection or Network wizard to configure a link to the ISP's server.\n\nYou can connect or disconnect the link or reconfigure it using the network status icon.\n\nWIRELESS WAN (CELLULAR)\nWireless Wide Area Network (WWAN or cellular) Internet access refers to using an adapter to link to a cellular phone provider's network via the nearest available transmitter (base station). The bandwidth depends on the technologies supported by the adapter and by the transmitter (3G or 4G, for instance).\n\nThe WWAN adapter can be fitted as a USB device or (on laptops) as an internal adapter. The advantage of the latter is that they do not protrude from the chassis; USB adapters are quite unwieldy.\n\nOnce the vendor's software has been installed, plug in the adapter and it will be detected and configured automatically. You can then use the software to open a connection, check signal strength, view usage, and so on.\n\n[file:///fig-core-2-257.png]\nVodafone Mobile Connect management software.\n\nVIRTUAL PRIVATE NETWORK (VPN)\nA Virtual Private Network (VPN) is a "tunnel through the Internet, It allows a remote computer to join the local network securely. Windows supports a number of VPN types but you may need to obtain third-party software.\n\nIf the VPN type is supported, you can configure a connection using the Windows client from Network Connections.\n\n[file:///fig-core-2-258a.png]\nSet Up a Connection or Network wizard. (Screenshot used with permission from Microsoft)\n\nSubsequently, the network connection will be available by clicking the network status icon. Right-click the icon under "Dial-up and VPN" to Connect or Disconnect or modify the connection's Properties.\n\n[file:///fig-core-2-258b.png]\nAccessing a VPN connection from the network status icon in Windows 7. (Screenshot used with permission from Microsoft)\ntag:C2 L4 TA
 
Activity 4-1\nDiscussing Network Connection Configuration Settings\n\nSCENARIO\nAnswer the following questions to check your understanding of the topic.\n\n1. You need to configure duplex settings on a network adapter manually. What steps do you need to follow?\n\n2. True or false? If you want a computer to be available through Wake-on-LAN, you can disconnect it from the power supply but must leave it connected to the network data port.\n\n3. A Windows computer is configured to use DHCP, but no DHCP server is available. The computer is not using an APIPA address either. Why is this?\n\n4, Why are IP addresses entered under DNS, and why should there be two of\nthem?\n\n5. What parameters do you need to specify to connect to a VPN?\ntag:C2 L4 TA A4-1

Activity 4-2\nConfiguring Network Connection Settings\n\nBEFORE YOU BEGIN\nYou need to stage a configuration error to discover as you work through this activity. Perform these steps to run the C:\COMPTIA-LABS\LABFILES\unplug.ps1 Powershell script:\n\n1. On the HOST computer, activate the Instant Search box, and type powershell\n\n2. Right-click the Windows PowerShell icon and select Run as administrator. Select Yes to accept the UAC prompt.\n\n3. In the Windows Powershell window, type c: \comptia-labs\labfiles\unplug and press Enter. Type R to run the script once.\n\nNote: if you receive an error message about disabled scripts, run the Se t ExecutionPolicy Unrestricted cmdlet. and type A (for Yes to All) when you are prompted. Then, try running the unplug script again.\n\nSCENARIO\nIn this activity, you will use five VMs and one virtual switch to create a complete LAN, all running within your HOST computer. The following network diagram is provided to assist you.\n\n[file:///fig-core-2-261.png]\nNetwork environment for configuring network connection settings.\n\n1. Using the network diagram, observe and verify the following features:\n\n• The network interfaces shown within the VLOCAL Switch box are all connected to the same virtual switch. The virtual switch functionality is always running as part of the Hyper-V hypervisor. You do not need to start it at any point.\n\n• The round icon at the top shows a router VM that has two interfaces. This is configured at the default gateway for all the other VMs. You will only look at a single local network. in this activity, so there is no actual connectivity through the external interface.\n\n• The pipe icon shows the IP addressing scheme used by the hosts connected to this switch. All addresses come from the range 10.1.0.0/24 (subnet mask: 255.255.2550). The number on each host shows its static address. For example, the router's full IP address for the local interface is 10.1.0.254.\n\n• There are two Windows Server VMs. The DC1 VM is running Active Directory and DNS and has the static IP address 10.1.0.1. The MS1 VM is running DHCP and has the static address 10.1.0.2.\n\n• The PC1 and PC2 VMs are the Windows 10 and Windows 7 client workstations you have used previously. Their addresses are dynamically assigned by the DHCP server from the range 10.1.0.101 to 10.1.0.109.\n\n2. Start the VMs to create the network.\nYou do not need to open connection windows for the VMs unless you are specifically prompted to do so.\n\na) In Hyper-V Manager, right-click RT1-LOCAL and select Start.\n\nb) Right-click DCL and select Start.\n\nc) Wait until the DC1 thumbnail shows the logon screen, and then start MS1.\n\nd) Walt until the MS1 thumbnail shows the logon screen, and then start PC1 and PC2.\n\ne) Opena connection window for PC2.\n\nf) Sign on, using the account 515support\Administrator and password Pa$$w0rd\n\n3. On the PC2 VM, view the adapter status, and open the Network and Sharing Center.\n\na) On PC2, on the taskbar, point to the network status icon, and observe the tool tip.\nIt should identify the network connection as corp.515support.com with the alert that there is no Internet access.\n\nb) Select the icon and select Open Network and Sharing Center.\n\nc) Examine the information shown about the network layout and type. Also, note that under Change your network settings, there is an option to set up a new connection, such as a dial-up or VPN connection.\n\n[file:///fig-core-2-263.png]\nNetwork and Sharing Center in Windows 7. (Screenshot used with permission from\nMicrosoft.)\n\n4. View the adapter properties.\n\na) Select the Local Area Connection link.\n\nb) In the Local Area Connection Status dialog box, examine the link speed, and then. select the Details button,\n\nc) In the Network Connection Details dialog box, examine the values for IPv4 Address, IPv4 Subnet Mask, IPv4 Default Gateway, IPv4 DNS Server, and IPv4 DHCP Server. Make sure you can relate them to the network topology diagram shown at the start of the activity.\n\nd) Select Close to return to the Local Area Connection dialog box.\n\ne) Select the Properties button.\nYou can bind and configure clients, services, and protocols in this dialog box.\n\nf) Double-click internet Protocol Version 4 (TCP/IPv4).\nThe adapter is set to obtain its configuration automatically.\n\ng) Select the Alternate Configuration tab.\nYou can use this to set a static IP address if no DHCP server is available. This address would be used instead of an APIPA address.\n\nh) Select the Cancel button.\n\ni) Select the Configure button. If prompted with Do you wish to proceed?, select Yes.\n\nj) In the Microsoft Virtual Machine Bus Network Adapter Properties dialog box,\nselect the Advanced tab.\nThis is the same Properties dialog box that would open if you selected the adapter Via Device Manager. This emulated network adapter driver does not support many configurable settings. There are no options for Wake-on-LAN of Qos.\n\nNote: Optionally, open this dialog box on the HOST computer, and compare the difference.\n\nk) Select Cancel, and then select Close.\n\n5. Browse the network to identify other hosts and resources.\n\na) In the Network and Sharing Center, under View your basic network information, select the corp.515support.com link.\n\nb) If a Network discovery is turned off bar is shown, select it, and then select Turn on network discovery and file sharing.\n\nc) Double-click the DC1 icon.\nThe server is hosting several shared folders.\n\nd) Select the Back button.\nNotice that PC1 is missing.\n\n6. Open a connection window for PC1, and sign on as 515support\administrator. Identify what network problem occurred, and remediate it.\n\na) In Hyper-V Manager, double-click the PC1 icon.\n\nb) Select Other user.\n\nc) In the User name dialog box, type 515support\administrator. Type Pa$$w0rd in the other box, and press Enter.\n\nd) Observe the network status icon.\nThe red cross means that the network cable is not connected (or the adapter is, faulty). Instead of checking the back of the computer for the cable, you need to look at the VM's configuration settings.\n\ne) In the VM connection window, select File→Settings.\n\nf) Select the Network Adapter node.\nIt is listed as Not connected.\n\ng) From the Virtual switch list box, select VLOCAL and then select OK.\n\nh) Observe the network stats icon change.\nIt should connect to the corp.515support.com network, but still show an error status for Internet connectivity.\n\ni) Select the icon, and select Network & Internet settings.\n\nj) Scroll down and select View your network properties.\nThis shows the same sort of information as the Windows 7 Status dialog box.\n\nk) Select the Back button.\n\nl) Select the Network and Sharing Center link.\nThis interface is still available in Windows 10, though it does not show all of the same information as in Windows 7. The adapter is named Ethernet, rather than Local Area Connection.\n\nm) Close the Network and Sharing Center\n\nn) If you have time, view the other nodes in Network & Internet settings. Note the different options under Ethernet compared to Status. Also note the options for configuring dial-up and VPN connections.\n\nNote: The VM does not have a wireless adapter. if such an adapter were present however, there would be a WiFi node to use to configure it.\n\n7. At the end of each activity, you need to close the VMs and discard any changes you made.\n\na) From the connection window, select Action—Revert.b) If you are prompted to confirm, select the Revert button,\n\nc) On the HOST, in the Hyper-V Manager console, right-click each VM that is still running and select Revert. At the end of the lab, the state of each VM should be listed as Off.\ntag:C2 L4 TA A4-2

Topic B\nInstall and Configure SOHO Networks\n\nEXAM OBJECTIVES COVERED\n1001-23 Given a scenario, install and configure a basic wired/wireless SOHO network.\n1002-2.3 Compare and contrast wireless security protocols and authentication methods.\n1002-2.10 Given a scenario, configure security on SOHO wireless and wired networks.\n\nPreviously in this course, you covered basic networking concepts, the Transmission Control Protocol/internet Protocol (TCP/IP) addressing scheme, and how networks are connected. In this topic, you will use that knowledge to install and configure a SOHO network.\n\nNo matter what the size or location of the network, you are still responsible for understanding how it is structured and configured. A* technicians must understand the needs and complexities of SOHO wired and wireless networks.\ntag:C2 L4 TB

SOHO NETWORKS\n\nA Small Office Home Office (SOHO) LAN is a business-oriented network, possibly using a centralized server in addition to client devices and printers, but often using a single Internet appliance to provide connectivity. Home and residential networks may also be classed as SOHO.\n\n[file:///fig-core-2-265.png]\nA typical SOHO network layout.\ntag:C2 L4 TB

COMMON SOHO NETWORK HARDWARE\n\nA DSL/cable modem is installed as Customer Premises Equipment (CPE), typically as some sort of combined router/modem. Make sure you understand the functions of the separate device types bundled within these appliances:\n\n• Modem—connects to the service provider cabling and transfers frames over the link. The modem type must be matched to the network type (ADSL, VDSL, or cable).\n\n• Router—forwards packets over the WAN (Internet) interface if they do not have a local destination IP address. Some appliances may provide the ability to configure local subnets, though this is not typical of the device's supplied by the service providers.\n\n• Switch—allows local computers and other host types to connect to the network via RJ-45 ports. This will be an unmanaged switch so no configuration is necessary.\n\n• Access point—allows hosts to connect to the network over Wi-Fi.\n\nOn a DSL modem, the RJ-11 port on the modem connects to the phone point. A microfilter (splitter) must be installed to separate voice and data signals. These can be self-installed on each phone point by the customer. Modern sockets are likely to feature a built-in splitter.\n \n[file:///fig-core-2-266.png]\nA self-installed DSL splitter.\n\nNote: The modem might be provided as a separate device. If this isthe case, twill provide an RJ-45 port to connect to the R-4S WAN port on the router.\n\nNote: The steps for most cable modems are the same except that you will be connecting to the provider network using a coax cable. Make sure the coax connector is secure (but do not overtighten it.\ntag:C2 L4 TB

SOHO NETWORK CONFIGURATION\n\nYou need to connect a computer (PC or laptop) to the device's built-in unmanaged switch so that you can configure the appliance. Make sure the computer is set to obtain an IP address automatically. Connect the computer to one of the RJ-45 LAN ports on the router/modem. These are usually color-coded yellow. Wait for the Dynamic Host Configuration Protocol (DHCP) server running on the router/modem to allocate a valid IP address to the computer.\n\nUse a browser to open the device's management URL, as listed in the documentation. This could be an IP address or a host/domain name:\n\nhttp: //192.168.0.1\nhttp://www.routerlogin.com\n\nIt might use HTTPS rather than unencrypted HTTP: If you cannot connect, check that the computer's IP address is in the same range as the device IP.\n\nThe management software will prompt you to choose a new administrator password. Enter the default password (as listed in the documentation or printed on a sticker accompanying the router/modem). Choose a long password (12 characters or more) with a mix of alphanumeric and symbol characters. If there is also an option to change the default username of the administrator account, this is also a little bit more secure than leaving the default configured.\n\nCONFIGURING INTERNET ACCESS\nMost appliances will use a wizard-based setup to connect to the Internet via the service provider's network. The DSL/cable link parameters are normally self-configuring. You might need to supply a username and password. If manual configuration is required, obtain the settings from your ISP.\n\n[file:///fig-core-2-267.png]\nConfiguring DSL modiem settings. Note that this VDSL modem is connecting to a Fiber to the Curb (FTTO service. The DSL segment only runs between the premises and the service provider's cabinet, located in a nearby street. From the cabinet, there isa fiber optic cable running back to the local exchange. (Screenshot courtesy of TP-Link.)\n\nYou can also use the management console to view line status and the system log. These might be required by the ISP to troubleshoot any issues with the connection.\n\n[file:///fig-core-2-268.png]\nViewing DSL line status. (Screenshot courtesy of TP-Link.)\ntag:C2 L4 TB

WIRELESS SETTINGS\n\nHaving set up Internet access, the next step is to configure wireless settings. The majority of hosts will connect to the network wirelessly. Initial configuration is likely to be part of the device's setup wizard, but if you skipped that or need to reconfigure settings, the management software will have a separate page or section for wireless configuration, Having checked the box to enable wireless communications, you can adjust the following settings from the default.\n\n• Frequency band (2.4 GHz ot 5 GHz)—on an 802.11ac access point, you can use the same network settings over both bands. Clients will connect to any supported frequency. Alternatively, you can configure different network names for each. frequency. You might want to use one frequency but not the other, depending on. the range of devices you have using the wireless network.\n\nNote: It is best practice not to enable services you do not need, especially on a multifunction device such as this. Most devices are now shipped in "security-enabled” configurations, meaning that you explicitly have to choose to enable services that you want to run\n\n• SSID (Service Set 1D)—a name for the WLAN. This can be up to 32 characters and must be different to any other networks nearby.\n\n• Security version and encryption type—always choose the highest mode supported by your wireless clients (WPA2 with AES). Note that WEP provides very weak security and should not be relied upon for confidentiality.\n\n• Password (Pre-Shared Key)—on a SOHO network you will choose a password for use by all client devices to connect to the network. The password generates the encryption key. The same key must be configured on client adapters to enable them to connect.\n\nNote: Choose a strong passphrase and keep it secret. In order to generate a strong key, use a longer phrase than you would for a normal password.\n\n• Mode—enable compatibility for different 802.11 devices. Performance may be improved if you disable support for unnecessary legacy standards. The typical configuration is to use the 2.4 GHz band for legacy b/g/n stations and the 5 GHz band for ac stations.\n\n• Channel and channel width—the access point will try to auto-detect the best channel at boot time. You might adjust the settings manually if you subsequently experience a weak connection caused by interference from other devices. For 802.11n/ac access points, you may be able to configure the use of wide channels (bonding) for more bandwidth. This may only be practical in the 5 GHz band, depending on the wireless site design.\n\n[file:///fig-core-2-269.png]\nConfiguring an access point. (Screenshot courtesy of TP-Link.)\ntag:C2 L4 TB

DHCP AND IP ADDRESS CONFIGURATION\n\nYou may want to adjust the settings for the DHCP server. This assigns wired and wireless clients an appropriate IP addressing configuration. It is always enabled "out of the box" to allow users to connect to the configuration page easily. If you disable DHCP, IP settings have to be allocated and configured manually on client devices. This adds a lot of administrative overhead and introduces the possibility of configuration errors. Also, it is not difficult for a determined attacker to identify the IP scope in use.\n \n[file:///fig-core-2-270.png]\nConfiguring the DHCP server. (Screenshot courtesy of TP-Link)\ntag:C2 L4 TB

WPS\n\nAs setting up an access point securely is relatively complex, vendors have developed a system to automate the process called Wi-Fi Protected Setup (WPS). To use WPS, all the wireless devices (access point and wireless adapters) must be WPS-capable. Typically, the devices will have a pushbutton. Activating this on the access point and the adapter simultaneously will associate the device with the access point using WPA2. The system generates a random SSID and passphrase.\n \n[file:///fig-core-2-271.png]\nIf you use WPS, disable the PIN configuration method if possible. (Screenshot courtesy of TP-Link,)\n\nNote: There is a WPS PIN method too but this is vulnerable to "brute force” attacks, where someone tries to guess the passphrase to get access to the networks. It is advisable to disable this method if possible.\ntag:C2 L4 TB

ACCESS POINT PLACEMENT\n\nAntenna and access point placement is important for ensuring a robust network—one that clients can connect to wherever they are in the building. In a SOHO network, with an integrated router/modem/access point, placement of the access point is likely to be constrained by the location of the service provider's cabling. If this does not provide sufficient coverage, the typical solution is to use extenders to repeat and boost the wireless signal in locations where it is not strong enough.\n\nA site survey can be performed with wireless signal measuring software (such as inssiDer) to identify "dead zones."\ntag:C2 L4 TB

CHANNEL SELECTION\n\nThe 2.4 GHz band for 802.11b/g/n is subdivided into 11 channels (in the US), spaced at 5 MHZ intervals. However, the recommendation is to allow 25 MHz spacing between channels in active use. In practice, therefore, no more than three nearby 802.11b/g/n access points can have non-overlapping channels. This could be implemented, for example, by selecting channel 1 for AP1, channel 6 for AP2, and channel 11 for AP3. When using the 5 GHz band, more non-overlapping channels are available.\n \n[file:///fig-core-2-272a.png]\nFrequencies and overlap of wireless channels.\n\nNewer access auto-detect the channel that seems least congested at boot time. As the environment changes, you may find that this channel selection is not the optimum one. You can use a wireless spectrum analyzer to find which channels in your area are actually the least busy.\ntag:C2 L4 TB

RADIO POWER LEVELS\n\nYou may want to turn the power output on an AP down to prevent “war driving." War driving is the practice of driving around with a wireless-enabled laptop scanning for unsecure WLANs. The main problem with this approach is that it requires careful configuration to ensure that there is acceptable coverage for legitimate users. You also expose yourself slightly to “evil twin” attacks, as users may expect to find the network ata given location and assume that a rogue AP is legitimate.\n\n[file:///fig-core-2-272b.png]\nYou have the option to set the Transmit Power level when configuring wireless settings on this access point. (Screenshot courtesy of TP-Link.)\n\nIncreasing power output to boost a signal is not always reliable. As you increase power, you also increase the chance of the signal bouncing, causing more interference, especially if there are multiple access points. Also, the client radio power levels should match those of the access point or they may be able to receive signals but not transmit back. Consequently, power levels are best set to autonegotiate. You should also be aware of legal restrictions on power output—these vary from country-to-country.\ntag:C2 L4 TB

WI-FI SECURITY PROTOCOLS\n\nWireless LANs require careful configuration to make the connection and transmissions over the connection secure. The main problem with wireless is that because it is “unguided,” there is no way to contain the signal. Anyone with a suitably equipped laptop or RF (Radio Frequency) scanner can intercept the signals. If the proper security has not been put in place, this could allow the interception of data or the unauthorized use of the network.\n\nThe crucial step in enforcing wireless security is to enable encryption. Encryption scrambles the messages being sent over the WLAN so that anyone intercepting them is not able to capture any valuable information. An encryption system consists of a cipher, which is the process used to scramble the message, and a key. The key is a unique value that allows the recipient to decrypt a message that has been encrypted using the same cipher and key. Obviously, the key must be known only to valid recipients or the encryption system will offer no protection.\n\nWIRED EQUIVALENT PRIVACY (WEP)\nThe Wired Equivalent Privacy (WEP) encryption system is based on the RCA cipher. RC stands for Ron's Cipher, after its inventor, Ron Rivest. Under WEP version 1, you can select from different key sizes (64-bit or 128-bit). A larger key makes it more difficult to attack the security system.\n\nAlthough WEP might sound like a good solution at first, it is not as secure as it should be. The problem stems from the way WEP produces keys. Because of a flaw in the method, attackers can quite easily generate their own keys by using a wireless network capture tool to analyze network data and crack WEP in a short period of time. Consequently, WEP is deprecated and should not be used to secure a wireless network.\n\nWI-FI PROTECTED ACCESS (WPA)\nWi-Fi Protected Access (WPA) fixes most of the security problems with WEP. WPA still uses the RC4 cipher but adds a mechanism called Temporal Key Integrity Protocol (TKIP) to fix the issues with key generation.\n\nThe original version of WPA was introduced as an upgrade for equipment supporting WEP. The continued reliance on WEP meant that the protocol did not meet the requirements of the IEEE 802.111 security standard. An update, known as WPA2, was developed as a fully compliant 802.111 security protocol. The main difference to WPA is. the use of the Advanced Encryption Standard (AES) cipher for encryption. AES is much stronger than RC4/TKIP.\n\nThe only reason not to use WPA2 is if it is not supported by adapters, APs, or operating, systems on the network. WPA2 is very well-established now and most devices should support it. WPA is an acceptable fallback, especially on home networks, where the risk of intrusion is quite low.\n\nNote: WPA/WPA2 can still depend on the use of a passphrase to generate the key. if the passphrase is an easy-to-guess word or phrase, the key can be discovered and the encryption system cracked.\ntag:C2 L4 TB

WI-FI AUTHENTICATION\n\nIt is possible to configure a WLAN as open, meaning that anyone can connect to it. In order to secure the WLAN, however, you need to be able to confirm that only valid users are connecting to it by authenticating them. WLAN authentication comes in two types.\n\nPERSONAL\nThe personal authentication mode is based on a Pre-shared Key (PSK). This is the key that is used to encrypt communications. A PSK is generated from a passphrase, which is like a long password. In WPA-PSK, the router administrator defines a passphrase of between 8 and 63 ASCII characters. This is converted into a 256-bit cryptographic hash, expressed as a 64-digit hex value where each hex digit represents 4 bits.\n\nNote: It is critical that PSK passphrases be long (12 characters or more) and complex. This means that it should contain a mixture of upper- and lower-case letters and digits and no dictionary words or common names.\n\nThe main problem is that distribution of the key or passphrase cannot be secured properly, and on a home network, the user acting as the administrator may choose an unsecure phrase. It also fails to provide accounting, as all users share the same key. The advantage is that it is simple to set up. Conversely, changing the key periodically (as would be good security practice) is difficult as the new key must be communicated to all users and updated on all their devices.\n\nPSK is the only type of authentication available for WLANs that use WEP encryption technology. Its also suitable for SOHO networks and workgroups that use WPA or WPA2 encryption.\n\nENTERPRISE\nWPA and WPA2 can implement enterprise mode authentication, where the access point passes authentication information to a Remote Authentication Dial-in User Service (RADIUS) server for validation. This type of authentication is suitable for server-/domain-based networks.\ntag:C2 L4 TB

COMMON SOHO SECURITY ISSUES\n\nAlthough encryption and setting a strong passphrase are the most important factors in configuring effective Wi-Fi security, there are other configuration changes you may want to make. Here are some additional security problems and solutions.\n\nSERVICE SET ID (SSID)\nThe Service Set ID (SSID) is a simple name (case sensitive 32-bit alphanumeric string) for users to identify the WLAN by. Vendors use default SSIDs for their products based on the device brand or model. You should change it to something that your users will recognize and will not get confused between nearby networks. Given that, on a residential network, you should not use an SSID that reveals personal information, such as an address or surname. Similarly, on a business network, you may not want to use a meaningful name. For example, an SSID like "Accounts" could prove tempting to would-be attackers.\n\nDisabling broadcast of the SSID prevents any adapters not manually configured to connect to the name you specify from finding the network. This provides a margin of privacy.\n\nNote: Hiding the SSID does not secure the network: you must enable encryption. Even when broadcast is disabled, the SSID can still be detected using packet sniffing tools.\n\nPHYSICAL SECURITY\nOn a business network, physical access to important network infrastructure like switches and routers should be restricted to administrators and technicians. Most devices are stored in a locked equipment room and may also be protected by lockable cabinets. Many devices can be reset to the factory configuration with physical access. This could allow someone to disrupt the network or gain access to administrative settings (though probably not without being noticed).\n\nUPDATING FIRMWARE\nYou should keep the firmware and driver for the Internet appliance up-to-date with the latest patches. This is important to fix security holes and to support the latest security standards, such as WPA2. To perform a firmware update, download the update from the vendor's website, taking care to select the correct patch for your device make and model. Select the Firmware Upgrade option and browse for the firmware file you downloaded.\n\nMake sure that power to the device is not interrupted during the update process.\n\n[file:///fig-core-2-275.png]\nUpgrading device firmware. (Screenshot courtesy of TP-Link)\n\nASSIGNING STATIC IP ADDRESSES\nAssigning static IP addresses means that the DHCP server is disabled and clients must be configured manually to join the network properly. It would be trivial for an attacker to identify the appropriate subnet so this is not something that would deter a determined attack.\n\nNote that devices such as the router/modem must be configured with a static address, because it acts as a DHCP server, and client devices need to use it as the default gateway.\ntag:C2 L4 TB

LATENCY AND JITTER\n\nQuality of Service (QoS) means using a network protocol to prioritize certain types of traffic over others.\n\nMany networks are now being pressed into service to provide two-way communications, with applications such as Voice over IP (VoIP), video conferencing, and multiplayer gaming. Applications such as voice and video that carry real-time data have different network requirements to the sort of data represented by file transfer. With “ordinary” data, it might be beneficial to transfer a file as quickly as possible, but the sequence in which the packets are delivered and variable intervals between packets arriving do not materially affect the application. This type of data transfer is described as "bursty." Network protocols such as HTTP, FTP, or email are very sensitive to packet loss but are tolerant to delays in delivery. The reverse is applicable to real-time applications; they can compensate for some amount of packet loss, but are very sensitive toward delays in data delivery.\n\nProblems with the timing and sequence of packet delivery are defined as latency and jitter:\n\n• Latency (Delay)—the time it takes for a signal to reach the recipient. A video application can support a latency of about 80 ms, while typical latency on the Internet can reach 1000 ms at peak times. Latency is a particular problem for 2-way applications, such as VoIP (telephone), online conferencing, and multiplayer gaming.\n\n• Jitter—variation in the delay; often caused by congestion at routers and other internetwork devices or by configuration errors.\n\nReal-time applications are sensitive to the effects of latency and jitter because they manifest as echo, delay, and video slow down. End users are generally very intolerant of these kinds of errors.\n\nIt is difficult to guarantee Quality of Service (QoS) over a public network such as the Internet. Enterprise networks can deploy sophisticated QoS and traffic engineering protocols on managed switches and routers. On a SOHO network, you may be able to configure a QoS or bandwidth control feature on the router/modem to prioritize the port used by a VoIP application over any other type of protocol. This will help to mitigate issues if, for example, one computer is trying to download a Windows 10 feature update at the same time as another set of computers are trying to host a video conference.\n\n[file:///fig-core-2-276.png]\nThe Bandwidth Control feature on this router/modem provides a basic QoS mechanism. (Screenshot courtesy of TP-Link.)\ntag:C2 L4 TB

Activity 4-3\nDiscussing SOHO Network Installation and Configuration\n\nSCENARIO\nAnswer the following questions to check your understanding of the topic.\n\n1. What type of cable and connectors are used to connect a modem to a phone port?\n\n2. What is the function of a microfilter?\n\n3. To configure a router/modem, what type of IP interface configuration should you apply to the computer you are using to access the device administration web app?\n\n4. What is the effect of reducing transmit power when you are configuring an access point?\n\n5. Which standard represents the best available wireless network security?\n\n6. How can QoSimprove performance for SOHO Internet access?\ntag:C2 L4 TB A4-3

Topic C\nConfigure SOHO Network Security\n\nEXAM OBJECTIVES COVERED\n1001-2.2 Compare and contrast common networking hardware devices.\n1001-2.3 Given a scenario, install and configure a basic wired/wireless SOHO network.\n1002-1.5 Given a scenario, use Microsoft operating system features and tools.\n1002-1.6 Given a scenario, use Microsoft Windows Control Panel utilities.\n1002-1.8 Given a scenario, configure Microsoft Windows networking on a client/desktop.\n1002-2.10 Given a scenario, configure security on SOHO wireless and wired networks.\n\nAlthough security models stress the importance of defense in depth, the network edge must still be closely guarded. As a CompTIA A+ technician, you must be able to configure firewall settings and other types of access controls to ensure safe Internet use. In this topic, you will learn how to configure common security features of SOHO router/modems, use the Windows Firewall, and set browser options.\ntag:C2 L4 TC

FIREWALLS\n\nThere are many types of firewalls and many ways of implementing them. One distinction can be made between network and host firewalls:\n\n• Network firewall—placed inline in the network and inspects all traffic that passes through it.\n\n• Host firewall—installed on the host and only inspects traffic addressed to that host.\n\nAnother distinction is what parts of a packet a firewall can inspect and operate on.\n\nPACKET FILTERING FIREWALL\nPacket filtering describes the earliest type of firewall. All firewalls can still perform this basic function. A packet filtering firewall can inspect the headers of IP packets. This means that rules can be based on the information found in those headers:\n\n• IP filtering—accepting or blocking traffic on the basis of its source and/or destination IP address.\n\n• Protocol ID/type—TCP, UDP, ICMP, and so on.\n\n• Port filtering/security—accepting or blocking a packet on the basis of source and destination port numbers (TCP or UDP application type).\n\nThis configuration is referred to as an Access Control List (ACL). The firewall may provide the option to accept all packets except for those on the reject list or, alternatively, it may provide the option to reject all packets except for those on the accept list. Generally, the latter is the best choice, since it is more secure and involves less configuration.\n\nHOST FIREWALL\nA host (or software or personal) firewall is one that is implemented as software on the individual host PC or server. This might be deployed instead of or in addition to the network firewall. As well as being able to filter traffic based on data in network packets (IP address and port number, for instance), a host-based firewall can be defined with rules for whether particular software programs and services (processes) or user accounts are allowed or denied access.\n\nHaving two firewalls is more secure; if one firewall is not working or is misconfigured, the other firewall might prevent an intrusion. The downside is complexity; you must configure rules in two places, and there are two things that could be blocking, communications when you come to troubleshoot connections.\n\nNote: Using both a network firewall to secure the “perimeter” and a host firewall provides defense in depth. This is the concept that multiple, well-coordinated layers of defensive controls make a system harder to compromise than a single defensive barrier.\ntag:C2 L4 TC

FIREWALL SETTINGS\n\nMost Internet router/modems come with a basic firewall product; some come with quite sophisticated firewalls. On a SOHO network, it is more typical to filter incoming traffic than outgoing traffic. Some router/modems may not support outbound filtering at all.\n\nDISABLING PORTS\nOne of the basic principles of secure configuration is only to enable services that must, be enabled. If a service is unused, then it should not be accessible in any way. The most secure way of doing this is to remove the service on each host. There may be circumstances in which you want a service port to be available on the local network but not on the Internet. This is where a firewall is useful. If you configure an ACL to block the port, or if the port is blocked by the default rule, then Internet hosts will not be able to access it.\n\nMAC FILTERING\nThe MAC is the hardware address of a network card, in the format aa:bb:cc:ddieesff. Firewalls, switches, and access points can be configured either with whitelists of allowed MACS or blacklists of prohibited MACS. This can be time-consuming to set up and it is easy for malicious actors to spoof a MAC address. On a SOHO network, the security advantages are unlikely to outweigh configuration and troubleshooting issues.\n\nCONTENT FILTERING/PARENTAL CONTROLS\nMost Internet appliances also support the configuration of filters to block websites and services on the basis of keywords or site rating and classification services. Another option is to restrict the times at which the Internet is accessible. These are configured in conjunction with services offered by the ISP.\n\nOne issue for ISP-enforced parental controls is that the filters are not usually able to distinguish account types, so the filters apply to all Internet access unless the filtering is manually disabled, which requires the ISP account holder's password. Parental controls can also be enforced at the OS level in Windows 10, where different filters can be applied based on the account type.\n\n[file:///fig-core-2-281.png]\nConfiguring parental controls to restrict when certain devices can access the network. (Screenshot courtesy of P-Link.)\n\nWHITELISTS/BLACKLISTS\nContent filtering works on the basis of blacklists of URLs that are known to harbor a particular type of content. There will be separate blacklists for different types of content that users might want to block. There are also blacklists of sites known to host malware. The firewall will block any IP address or domain name appearing on a blacklist for which a filter has been configured.\n\nConversely, whitelisting a site means that it will be accessible even if a filter is applied. If you want to lock down Internet usage very tightly, it should be possible to configure a filter so that only whitelisted sites are accessible.\ntag:C2 L4 TC

NAT\n\nAll router/modems implement Network Address Translation (NAT). More specifically, they implement Network Address Port Translation (NAPT), which is also referred to as NAT overloading or Port Address Translation (PAT). The router/modem is issued with a single public IP address by the ISP. Some ISPs might allocate a static address, but it is more common for it to be dynamic (issued by the ISP's DHCP server). Hosts connected to the router/modem's switch or access point are configured with local (private) addresses, typically in the range 192.168.0.0/24 or 192.168.1.0/24. When one of these devices tries to contact a host on the Internet, the router identifies the connection using an ephemeral port number, adds the original private IP address and port number to a NAT table, and sends the transmission to the Internet host, using its public IP address and the new port number. When (or if) an Internet host replies to that port, the router looks up the port number in the NAT table, locates the original IP address and port, and forwards the response to the local device.\n\nNAT overloading on a SOHO router/modem generally works without any configuration. There might be an option to configure an Application Layer Gateway (ALG) for one or more protocols. NAT can pose problems for some types of protocol. ALG mitigates these problems by opening ports dynamically to allow connections.\n\n[file:///fig-core-2-282.png]\nConfiguring ALGs for NAT. (Screenshot courtesy of TP-Link.)\ntag:C2 L4 TC

PORT FORWARDING AND PORT TRIGGERING\n\nWhen NAT overloading is deployed, hosts on the Internet can only "see" the router and its public IP address. If you want to run some sort of server application from your, network and make it accessible to the Internet, you need to set up port forwarding or Destination NAT (DNAT).\n\nPort forwarding means that the router takes requests from the Internet for a particular protocol (say, HTTP/port 80) and sends them to a designated host on the LAN. The request could also be sent to a different port, so this feature is often also called port mapping, For example, the Internet host could request HTTP on port 80, but the LAN server might run its HTTP server on port 8080 instead.\n \n[file:///fig-core-2-283.png]\nConfiguring port forwarding for FTP. (Screenshot courtesy of TP-Link.)\n\nPort triggering is used to set up applications that require more than one port. Basically, when the firewall detects activity on outbound port A destined for a given external IP address, it opens inbound access for the external IP address on port B for a set period.\ntag:C2 L4 TC

DMZ\n\nWhen making server accessible on the Internet, careful thought needs to be given to the security of the local network. A simple firewall with port forwarding will only support servers on the local network. There can only be one set of access rules. If a server is compromised, because it is on the local network there is the possibilty that other LAN hosts can be attacked from it or that the attacker could examine traffic passing over the LAN.\n\nIn an enterprise network, a Demilitarized Zone (DMZ) is a means of establishing a more secure configuration. The idea of a DMZis that hosts placed within it are untrusted by the local network zone. Some traffic may be allowed to pass between the DMZ and the local network, but no traffic is allowed to pass from the Internet to the local network through the DMZ.\n\nMost SOHO routers come with only basic firewall functionality. The firewall in a typical SOHO router screens the local network, rather than establishing a DMZ.\n\nHowever, you should note that many SOHO router/modem vendors use the term "DMZ" or "DMZ host" to refer to a computer on the LAN that is configured to receive communications for any ports that have not been forwarded to other hosts. When DMZis used in this sense, it means "not protected by the firewall" as the host is fully accessible to other Internet hosts (though it could be installed with a host firewall instead). This also means that the LAN is still exposed to the risks described previously.\n\n[file:///fig-core-2-284a.png]\nConfiguring a SOHO router version of a DMZ—the host 192.168.1.254 will not be protected by the firewall. (Screenshot courtesy of TP-Link.)\ntag:C2 L4 TC

UNIVERSAL PLUG-AND-PLAY\n\nACLs and port forwarding/port triggering are challenging for end users to configure correctly. Many users would simply resort to turning the firewall off in order to get a particular application to work. As a means of mitigating this attitude, services that require complex firewall configuration can use the Universal Plug-and-Play (UPnP) framework to send instructions to the firewall with the correct configuration parameters.\n\nOn the firewall, check the box to enable UPnP. A client UPnP device, such as an Xbox, PlayStation, or Voice-over-IP handset, will be able to configure the firewall automatically to open the IP addresses and ports necessary to play an online game or place and receive VoIP calls.\n\n[file:///fig-core-2-284b.png]\nEnabling UPnP—there is nothing to configure, but when client devices use the service, the rules they have configured on the firewall are shown in the service list: (Screenshot courtesy of TP-Link.)\n\nUPnP is associated with a number of security vulnerabilities and is best disabled if not required. You should ensure that the router does not accept UPnP configuration requests from the external (Internet) interface. If using UPnP, keep up-to-date with any security advisories or firmware updates from the router manufacturer.\n\nNote: Also make sure that UPnP is disabled on client devices, unless you have confirmed that the implementation is secure. As well as game consoles, vulnerabilities have been found in UPnP running on devices such as printers and web cams.\ntag:C2 L4 TC

WINDOWS FIREWALL\n\nAs well as configuring the network firewall, you may want to configure a personal firewall on each host. Windows ships with bundled firewall software.\n\nNote: There are also third-party firewalls. If you install another firewall product, it should disable Windows Firewall, Do not try to run two host firewalls at the same time. The products may interfere with one another and attempting to keep the ACLs synchronized between them will be extremely challenging.\n\nCONFIGURING WINDOWS FIREWALL\nTo configure the firewall in Windows 7, open Windows Firewall in Control Panel to view a status page, then click Turn Windows Firewall on or off. The Windows Firewall can be turned on or off depending on whether the network location is private (home/work) or public or domain. For example, you could have an Internet connection through an open access point set to pubiic with a VPN to your corporate network running over the link, but set to domain.\n\n[file:///fig-core-2-285.png]\nCustomizing Windows Firewall settings in Windows 7. (Screenshot used with permission from Microsoft)\n\nCONFIGURING EXCEPTIONS\nTo allow or block programs (configure exceptions), from the Windows Firewall status page, click Allow a program or feature through the Windows Firewalll. check the box for either or both network type or use Allow another program to locate its executable file and add it to the list.\n\n[file:///fig-core-2-286.png]\nWindows Firewall Allowed Programs. (Screenshot used with permission from Microsoft.)\n\nWINDOWS DEFENDER SECURITY CENTER:\nIn Windows 10, you can turn the firewall on or off and access the configuration applets shown previously via the Firewall & network protection page in the Windows Defender Security Center.\ntag:C2 L4 TC

WINDOWS FIREWALL WITH ADVANCED SECURITY\n\nAn add-in to the basic firewall (Windows Firewall with Advanced Security) allows configuration of outbound filtering, as well as IPsec connection security and additional monitoring tools.\n\nThe Advanced Firewall can be configured through group policy on a domain; on a standalone PC or workgroup, open the WF . MSC management console (or enter “firewall” at the Search box or use the Advanced settings link in the Windows Firewall Control Panel applet). On the status page, you can click Windows Firewall properties to configure each profile. The firewall can be turned on or off and you can switch the default rule for inbound and outbound traffic between Block and Allow.\n\nYou can also set which network adapters are linked to a profile and configure logging.\n \n[file:///fig-core-2-287.png]\nWindows Firewall with Advanced Securit→Profile Settings. (Screenshot used with permission from Microsoft)\n\nNote: Block stops traffic unless a specific rue allows it. Conversely, Alow accepts all traffic unless a specific rule blocks it. You can also use Block all connections to stop inbound connections regardless of the rules set up.\n\nBack in the main Advanced Firewall console, you enable, disable, and configure rules by clicking in the Inbound Rules or Outbound Rules folder as appropriate. Rules can be based on a number of triggers, including program, Windows Feature, service,  protocol type, network port, and IP address range.\n\n[file:///fig-core-2-288.png]\nConfiguring Windows Firewall with Advanced Security. (Screenshot used with permission from Microsoft.)\ntag:C2 L4 TC

LOCATION AWARENESS\n\nDifferent Windows Firewall settings can be applied depending on the network to which the PC is connected. When Windows 7 detects a new network (wired, wireless, dial-up, or VPN), the Set Network Location dialog box is displayed.\n\nYou can make the following choices:\n\n• Home—enables network discovery (the ability to contact other computers on the network) and the use of homegroups.\n\n* Work—enables network discovery.\n\n• Public—disables network discovery and file sharing.\n\n• Domain—you cannot choose this option, but if the computer is joined to a domain, then the firewall policy will be configured via Group Policy.\n\n[file:///fig-core-2-289.png]\nSet Network Location dialog box. (Screenshot used with permission from Microsoft.)\n\nTo change the location defined for a network, open the Network and Sharing Center. Click the network location label under the network name.\n\nIn Windows 8 and Windows 10, the concept of home and work networks has been discarded. Networks are either public or private depending on whether you choose to enable discovery and file sharing or not. If the computer is joined to a domain, then the network type will be set to domain.\n\n[file:///fig-core-2-290.png]\nSetting network location type in Windows 8. (Screenshot used with permission from Microsoft)\n\nYou can subsequently change the setting via the Settings app.\ntag:C2 L4 TC

BROWSER CONFIGURATION\n\nThe browser has become one of the most important bits of software on a computer. As well as actual web browsing, it is frequently used as the interface for many types of web applications. The basic browser is also often extended by plug-ins that run other types of content. Internet Explorer (IE) used to be completely dominant in the browser market, but alternatives such as Google's Chrome™ and Mozilla's Firefox* now have substantial market share. This section describes the Internet Options applet for Internet Explorer, but similar settings can be configured for other versions and browsers.\n\nNote: In fact, in Windows 10, the Internet Explorer browser is replaced by the Edge browser. IE is still available in Windows 10, but its use is deprecated.\n\nGENERAL TAB\nThe main functions of the General tab are to configure home pages (pages that load when the browser is started) and manage browsing history. On a public computer, it is best practice to clear the browsing history at the end of a session. You can configure the browser to do this automatically.\n\n[file:///fig-core-2-291.png]\nInternet Options→General tab. (Screenshot used with permission from Microsoft.)\n\nNote: You can also start an "In Private” mode session by pressing Ctrl+Shift+P. This mode disables browsing history, cookies, and browser toolbars and extensions.\n\nCONNECTIONS TAB AND PROXY SETTINGS\nThe Connections tab sets the method Internet Explorer uses to connect to the Internet.\n\n• To use a dial-up connection, select either Dial whenever a network connection is not present or Always dial my default connection. You would typically select the former option for a laptop computer that connects via the LAN in the office but a modem elsewhere. If the connection selected in the Dial-up Settings box is not the default, click Set Default.\n\n• To use a router, you simply need to configure the Default gateway and DNS server parameters in TCP/IP properties for the local network adapter (though more typically, this would be configured automatically using DHCP). The browser will use this connection when you select Never dial a connection or Dial whenever a network connection is not present.\n\n[file:///fig-core-2-292a.png]\nInternet Options→Connections tab. (Screenshot used with permission from Microsoft.)\n\nOn some networks, a proxy may be used to provide network connectivity. A proxy server can be used to improve both performance and security. User machines pass Internet requests to the proxy server, which forwards them to the Internet. The proxy may also cache pages and content that is requested by multiple clients, reducing bandwidth. The proxy may be able to autoconfigure the browser but if not, its address must be configured manually. Select the LAN Settings button to do this.\n\n[file:///fig-core-2-292b.png]\nLocal Area Network (LAW) Settings dialog box. (Screenshot used with permission from Microsoft)\n\nNote: in Windows 10, use the Settings→Network & Internet→Proxy configuration page.\n\nSECURITY TAB\nThe Security tab is designed to prevent malicious content hosted on web pages from infecting the computer or stealing personal information.\n\n[file:///fig-core-2-293.png]\nInternet Options→Security tab. (Screenshot used with permission from Microsoft.)\n\nThere are lots of security settings, configuring things such as whether scripts and plug-ins are allowed to run or install, files to download, and so on.\n\nInternet Explorer operates a system of zones, each with different security settings. Everything off the local subnet is in the Internet zone by default; the user (or a domain's group policy) can add particular sites to the Trusted and Restricted zones as appropriate. The settings for a particular zone can also be changed using the Custom Level button.\n\nPRIVACY TAB\nThe main function of the Privacy tab is to control sites’ use of cookies. A cookie is a text file used to store session data. For example, if you log on to a site, the site might use a cookie to remember who you are. Ifthe site is prevented from setting these cookies, it may not work correctly. On the other hand, a modern website might host components from many different domains. These components might try to set third-party cookies, most often to track pages you have been visiting and display relevant advertising at you.\n\nYou can use the slider to set the default policy for the Internet zone and use the Sites button to always block or allow cookies from particular domains.\n\nThe Privacy tab also allows you to configure the Pop-up Blocker, which prevents sites from spawning new windows through scripting.\n\n[file:///fig-core-2-294a.png]\nInternet Options→Privacy tab, (Screenshot used with permission from Microsoft.)\n\nPROGRAMS TAB\nYou can use the Programs tab to check whether IE is the default browser.\n\n[file:///fig-core-2-294b.png]\nInternet Options→Programs tab. (Screenshot used with permission from Microsoft)\n\nClick Set programs to open the Default Programs applet to make another browser the default. You can also manage add-ons from here. Add-ons are code objects that extend the functionality of the browser. Examples include toolbars, malware scanners, content players (such as Adobe® Flash® player), and document readers (such as PDF viewers). Manage add-ons lets you disable or uninstall these objects.\n\nADVANCED TAB\nThe Advanced tab contains settings that do not fit under any of the other tabs.\n\n[file:///fig-core-2-295.png]\nInternet Options→Advanced tab. (Screenshot used with permission from Microsoft)\n\nSome notable options include:\n\n• Disable certain types of content (pictures for instance).\n\n• Enable a script debugger.\n\n• Enable or disable passive FTP.\n\n• Allow or prevent active content from running on local computer drives.\n\nYou can also use this tab to completely reset the browser.\ntag:C2 L4 TC

Activity 4-4\nDiscussing SOHO Network Security\n\nSCENARIO\nAnswer the following questions to check your understanding of the topic.\n\n1. True or false? A firewall can be configured to block hosts with selected IP address ranges from connecting to a particular TCP port on a server that is available to hosts in other IP address ranges.\n\n2. What sort of configuration options are available to apply parental controls, as opposed to packet filtering via a firewall?\n\n3. What security method could you use to allow only specific hosts to connect to a SOHO router/modem?\n\n4, A user wants to be able to access an FTP server installed on a computer on their home network from the Internet. The home network is connected to the Internet bya DSL router.  How would you enable access?\n\n5. You are setting up a games console on a home network.  What feature on the router will simplify configuration of online multiplayer gaming?\n\n6. True or false? To allow a PC game to accept incoming connections over a custom port you need to configure the Advanced Security Firewall.\n\n7. What option on the General tab of the Internet Options dialog box is most relevant to user privacy?\n\n8. How would you configure a Windows 7 computer to use a proxy server for\nweb browsing?\ntag:C2 L4 TC A4-4

Topic D\nConfigure Remote Access\n\nEXAM OBJECTIVES COVERED\n1001-2.1 Compare and contrast TCP and UDP ports, protocols, and their purposes.\n1002-1.5 Given a scenario, use Microsoft operating system features and tools.\n1002-1.8 Given a scenario, configure Microsoft Windows networking on a client/desktop.\n1002-4.9 Given a scenario, use remote access technologies.\n\nA remote access utility allows you to establish a session on another computer on the network. There are command-line and GUI remote access tools. These are very useful for technical support and troubleshooting. The fact that remote access is so useful shows how important it is that such tools be used securely. In this topic, you will learn about the features of different remote access tools and security considerations of using each one.\ntag:C2 L4 TD

WINDOWS REMOTE ACCESS TOOLS\n\nWindows comes with several remote access features. Two of the GUI remote tools are Remote Desktop and Remote Assistance. These use some of the same underlying technologies but suit different purposes.\n\nREMOTE DESKTOP\nRemote Desktop allows a remote user to connect to their desktop machine. The desktop machine functions as a terminal server and the dial-in machine as a Windows terminal. This allows the user to work as if physically connected to their workstation.\n\nThis would ideally suit laptop users working from home with a slow link. Having gained. access to the corporate network (via the Internet using a VPN, for example) they could then establish a remote desktop connection to their own office-based system. A technician can also use Remote Desktop to configure or troubleshoot a computer.\n\nRemote Desktop runs on TCP port 3389.\n\nNote: Windows Home editions do not include the Remote Desktop server so you cannot, connect to them, but they do include the client so you can connect to other computers from them.\n\nREMOTE ASSISTANCE\nRemote Assistance allows a user to ask for help from a technician or co-worker. The “helper” can then connect and join the session with the user. This session can include an interactive desktop, whereby the helper can control the system of the user.\n\nRemote Assistance assigns a port dynamically from the ephemeral range (49152 to 65535). This makes it difficult to configure through firewalls, but remote assistance is, designed more for local network support anyway.\ntag:C2 L4 TD

REMOTE SETTINGS CONFIGURATION\n\nBy default, Remote Assistance connections are allowed but Remote Desktop ones are not. To change these settings, open System Properties then click Remote settings.\n\n[file:///fig-core-2-299.png]\nConfiguring remote settings in Windows 7. (Screenshot used with permission from Microsoft)\n\nYou can choose between allowing older RDP clients to connect and requiring RDP clients that support Network Level Authentication (NLA). NLA protects the computer against Denial of Service attacks. Without NLA, the system configures a desktop before the user logs on. A malicious user can create multiple pending connections in an attempt to crash the system. NLA authenticates the user before committing any resources to the session.\n\nRDP authentication and session data is always encrypted. This means that a malicious user with access to the same network cannot intercept credentials or interfere or capture anything transmitted during the session.\n\nClick the Select (Remote) Users button to define which users can connect remotely. Users in the local administrators group already have this property. You can select from members of the local accounts database or from the domain of which your machine is member.\n\nNote: The biggest limitation of Remote Desktop on Windows is that only one person can be logged in to the machine at once, so once you log in using Remote Desktop, the monitor at the local computer will go to the login screen. if a local user logs in, the remote user will be disconnected. Remote Desktop is not really a remote diagnostic and troubleshooting tool as much as a management tool.\ntag:C2 L4 TD

REMOTE CREDENTIAL GUARD\n\nIf Remote Desktop is used to connect to a machine that has been compromised by malware, the credentials of the user account used to make the connection become highly vulnerable, RDP Restricted Admin (RDPRA) Mode and Remote Credential Guard are means of mitigating this risk. You can read more about these technologies at (https://docs.microsoft.com/en-us/windows/security/identity-protection/remote-credential-guard).\ntag:C2 L4 TD

THE REMOTE ASSISTANCE PROCESS\n\nA request for remote assistance is made using the Windows Remote Assistance tool. You can send an invitation as a file, via email, or using Easy Connect. The tool will generate a password and a connection file for you to transmit to the helper.\n\nTo provide assistance, open the invitation file and enter the password and wait for the user to accept the offer of assistance. When the offer is accepted, a remote desktop window is opened with an additional chat tool that you can use to communicate with the user.\n\nRemote Assistance sessions are encrypted using the same technologies as RDP.\n\n[file:///fig-core-2-300.png]\nUsing Remote Assistance. (Screenshot used with permission from Microsoft.)\ntag:C2 L4 TD

REMOTE DESKTOP\n\nTo connect to a server via Remote Desktop, from the Communications menu in Accessories, open the Remote Desktop Connection shortcut, or run NSt SC ata command prompt or the Run dialog box or Instant Search box. Enter the server's computer name or IP address to connect. The server can be installed with a certificate to identify it securely.\n\n[file:///fig-core-2-301.png]\nRemote Desktop Connection dient. (Screenshot used with permission from Microsoft.)\n\nYou will need to define logon credentials. To specify a domain or computer account, use the format ComputerOrDomainNvame\UserName. in addition, you might need to define display properties. You can use either full screen or some windowed display. A'so, you can configure the quality of the color scheme. The Local Resources tab allows you to define how key combinations (such as Alt+Tab) function—that is, will they affect the local computer, the remote computer, or the remote computer in full screen mode. Because the connection may be over a slow link, such as dial-up, you can configure optimization based on the line speeds (modem, LAN, and so on). This affects bitmap caching and video options.\n\nOnce you have your remote desktop connection established, you can work quite normally, as if physically adjacent to the target machine—but be aware that no one else can use the target system while in remote mode. The system becomes locked and can be unlocked by the administrator or the remotely connected user only.\ntag:C2 L4 TD

REMOTE ACCESS TECHNOLOGIES\n\nRemote Desktop and Remote Assistance are technologies for Windows networks. There are versions of the mst SC client software for Linux®, macOS®, iOS®, and Android™ so you can use devices running those operating systems to connect to an RDP server running on a Windows machine.\n\nOther protocols and software tools are available for accepting incoming connections to non-Windows devices.\ntag:C2 L4 TD

TELNET\n\nTelnet is a commang-line terminal emulation protocol and program. The host server runs a Telnet daemon listening for connections on TCP port 23. The client system runs a Telnet program to send commands to the daemon. When you connect, your computer acts as if your keyboard is attached to the remote computer and you can use the same commands as a local user.\n\nNote: Telnet sends all messages in clear text. Anyone able to in traffic would be able to see the passwords for accounts.\n\nIf you enter telnet a ta command prompt, some of the basic commands you can use are listed in the following table.\n\n| Command | Use |\n| ------- | --- |\n| open | Starts a session with the host on that port. Host can be a host |\n| HostPort | name, FQDN, or IP address. |\n| ? | Displays help. |\n| status | Check session status. |\n| close | Ends the current session. |\n| quit | Exits the telnet prompt. |\n\nTelnet is sometimes still used for troubleshooting services such as SMTP or HTTP. For example, to connect to an SMTP server at the IP address 192.168.1.2, you would enter telnet 192.168.1.2 25.\n\n[file:///fig-core-2-302.png]\nTelnet session with an SMTP server. (Screenshot used with permission from Microsoft)\n\nAnother application of Telnet is router or switch configuration. The Telnet application is used to connect to the Telnet Daemon on the router and then command instructions can be issued to configure it.\n\nNote: Telnet is not installed by default in Windows. You can add it using Programs and Features. On a Windows network, you are more likely to use Windows Remote Shell (WinRS), which has better functionality and security features.\ntag:C2 L4 TD

SSH\n\nSecure Shell (SSH) is designed to replace unsecure administration and file copy programs such as Telnet and FTP. SSH uses TCP port 22 (by default). SSH uses encryption to protect each session. There are numerous commercial and open source SSH products available for all the major OS platforms (UNIX, Linux, Windows, and\nmacOS).\n\nSSH servers are identified by a public/private key pair (the host key). A mapping of host names to public keys can be kept manually by each SSH client or there are various enterprise software products designed for SSH key management.\n\n[file:///fig-core-2-303.png]\nConfirming the SSH server's host key. (Screenshot used with permission from Microsoft.)\n\nSSH CLIENT AUTHENTICATION\nThe server's host key is used to set up a secure channel to use for the client to submit  authentication credentials. SSH allows various methods for the client to authenticate to the SSH server. Each of these methods can be enabled or disabled as required on the server:\n\n• Username/password—the client submits credentials that are verified by the SSH server either against a local user database or using an authentication server.\n\n• Kerberos—this allows Single Sign On (SSO) on a network that runs the Kerberos authentication protocol. Windows Active Directory domain networks use Kerberos.\n\n• Host-based authentication—the server is configured with a list of authorized client public keys. The client requests authentication using one of these keys and the server generates a challenge with the public key. The client must use the matching private key it holds to decrypt the challenge and complete the authentication process. This provides non-interactive login but there is considerable risk from intrusion if a client host's private key is compromised.\n\nNote: With host-based authentication, managing valid client public Keys isa critical security task, Many recent attacks on web servers have exploited poor key management.\n\n• Public key authentication—host-based authentication cannot be used with fine- grained access controls as the access is granted to a single user account, The same sort of public key authentication method can be used for each user account. The user's private key can be configured with a passphrase that must be input to access the key, providing an additional measure of protection compared to host-based. authentication.\ntag:C2 L4 TD

SCREEN SHARING AND VNC\n\nIn macOS, you can use the Screen Sharing feature for remote desktop functionality. Screen Sharing is based on Virtual Network Computing (VNC). You can use any VNC client to connect to a Screen Sharing server.\n\nVNC itself is a freeware product with similar functionality to RDP. It works over TCP port 5900. Freeware versions of VNC provide no connection security and so should only be used over a secure connection, such as a VPN. However, there are commercial products packaged with encryption solutions. macOS Screen Sharing is encrypted.\ntag:C2 L4 TD

FILE SHARE\n\nSetting up a network file share can be relatively complex. You need to select a file sharing protocol that all the connecting hosts can use, configure permissions on the share, and provision user accounts that both the server and client recognize. Consequently OS vendors have developed other mechanisms for simple file sharing between devices.\n\n• AirDrop*—supported by Apple iOS and macOS, this uses Bluetooth to establish a Wi-Fi Direct connection between the devices for the duration of the file transfer. The connection is secured by the Bluetooth pairing mechanism and Wi-Fi encryption.\n\n• Near Share—Microsoft's version of AirDrop. Near Share was introduced in Windows 10 (1803), partly replacing the previous Homegroup feature.\n\nThere are plenty of third-party and open source alternatives to AirDrop.\n\nAlthough the products have security mechanisms, there is the potential for misuse of features such as this. Users accepting connections from any source could receive unsolicited transfer requests. It is best only to accept requests from known contacts. The products can be subject to security vulnerabilities that allow unsolicited transfers.\ntag:C2 L4 TD

Activity 4-5\nDiscussing Remote Access Configuration\n\nSCENARIO\nAnswer the following questions to check your understanding of the topic.\n\n1. Which edition(s) of Windows support connecting to the local machine over Remote Desktop?\n\n2. What is the goal of RDP Restricted Admin (RDPRA) Mode and Remote Credential Guard?\n\n3. True or false? SSH is not available for use with Windows.\n\n4. How can you confirm that you are connectingto a legitimate SSH server?\ntag:C2 L4 TD A4-5

Topic E\nTroubleshoot Network Connections\n\nEXAM OBJECTIVES COVERED\n1001-2.8 Given a scenario, use appropriate networking tools.\n1001-5.7 Given a scenario, troubleshoot common wired and wireless network problems.\n1002-1.4 Given a scenario, use appropriate Microsoft command line tools.\n1002-3.1 Given a scenario, troubleshoot Microsoft Windows OS problems.\n\nAs a CompTIA A+ technician, you will be expected to be able to troubleshoot basic network connectivity issues. At this support level, you will be focusing on client issues. As you have learned, networks are complex and involve many different hardware devices, protocols, and applications, meaning that there are lots of things that can go wrong! in this topic you will learn how to identify and diagnose the causes of some common wired and wireless network issues.\ntag:C2 L4 TE

COMMON WIRED NETWORK CONNECTIVITY ISSUES\n\nWhen troubleshooting a network issue, it is often a good idea to rule out any problem with connectivity at the hardware layer. If a single host is unable to connect to the network, the first thing you should check is whether the network cable is properly connected. If the problem is not that obvious, then there are a few other tools you can use to diagnose a problem with network hardware (adapters and cabling).\n\nTROUBLESHOOTING WIRED CONNECTIVITY\nTo diagnose a cable problem, perform a basic local connectivity test using the ping utility (discussed later with a known working system on the local subnet. if you can ping another local system, the problem is not in the cabling (at least, not this cable).\n\nIf you can't ping anything then, assuming you've physically checked the back of the machine for the cable's presence, verify that the patch cord is good. The easiest thing, to do is swap the patch cord to the wall socket with another—known working—cable.\n\nCan you ping anything now? If not, verify the patch cord between the patch panel and the switch, Swap with another known good cable and test again. If this still fails, try connecting a different host to the network port. If the other host connects, suspect a problem with network adapter in the original host. Use Device Manager to verify that the adapter's link properties are set correctly (typically to autonegotiate). If there is no configuration issue, swap the network adapter with a known good one and re-test.\n\nNote: The link LEDs on network adapter and switch ports will indicate whether the link is active and possibly at what speed the link is working. The LEDs typically flicker to show network activity.\n\nIf you still haven't isolated the problem, try plugging the problem computer into a different network port. By testing from different ports, you should be able to establish the scope of the problem and the likely location of the fault. Eventually, through the process of substituting working components for suspect components, you should resolve the cable problem. Remember that if several users have the problem, you should check the switch in this way too.\n\nNote: if you have suitable tools, you can use them in place of substituting and transposing devices. For example, a loopback plug can be used to test whether a port is working (and therefore indicate that the problem is with the cable).\n\nProblems with patch cords are simple as you can just throw the broken one away and. plug in a new one. If the problem is in the structured cabling, however, you will want to use cable testing tools to determine its cause, especially ifthe problem is intermittent (that is, if the problem comes and goes). The solution may involve installing a new permanent link, but there could also be a termination or external interference problem.\n\nTROUBLESHOOTING SLOW TRANSFER SPEEDS\nThe transfer speed of a cabled link could be reduced if the network equipment is not all working to the highest available standard. Check the configuration of the network adapter driver (via Device Manager) and the setting for the switch port (via the switch management software). Slow transfer speeds can be caused by a variety of other problems and can be very difficult to diagnose.\n\n• There may be congestion at a switch or router or some other network-wide problem. This might be caused by a fault or by user behavior, such as transferring a very large amount of data over the network.\n\n• There could be a problem with the network adapter driver.\n\n• The computer could be infected with malware.\n\n• The network cabling could be affected by interference. This could be from an external source but check the ends of cables for excessive untwisting of the wire pairs as poor termination is a common cause of problems.\ntag:C2 L4 TE

COMMON WIRELESS NETWORK CONNECTIVITY ISSUES\n\nWhen troubleshooting wireless networks, as with cabled links, you need to consider problems with the physical media, such as interference and configuration issues.\n\nThe Radio Frequency (RF) signal from radio-based devices weakens considerably as the distance between the devices increases. If you experience slow transfer speeds or you cannot establish a connection, try moving the devices closer together. If you stil cannot obtain a connection, check that the security and authentication parameters are correctly configured on both devices.\n\nTROUBLESHOOTING WIRELESS CONFIGURATION ISSUES\nIf a user is looking for a network name that is not shown in the list of available wireless networks (SSID not found), the user could be out of range or broadcast of the SSID name might be suppressed. In the latter scenario, the connection to the network name must be configured manually.\n\nAnother factor to consider is standards mismatch. Choosing a compatibility mode for an access point will reduce the features available (no WPA for 802.11b compatibility, for instance). If an access point is not operating in compatibility mode, it will not be able to communicate with devices that only support older standards. Also, when an older device joins the network, the performance of the whole network can be affected. To support 802.11b clients, an 802.11b/n access point must transmit legacy frame preamble and collision avoidance frames, adding overhead. If at all possible, upgrade 802.11b devices rather than letting them join the WLAN. 802.11g and 802.111 are more compatible in terms of negotiating collision avoidance. In a mixed 802.11g/n WLAN, performance of the 802.11n devices operating in the 2.4 GHz band is only likely to be severely impacted when 802.11 devices perform large file transfers. As these take longer to complete, there is less “airtime” available for the 802.11n clients.\n\nNote: With 802.11n dual-band APs operating in a mixed mode or with 802.11ac, it is typical to assign one of the 2.4 GHz band to support legacy clients. The 5 GHz band can be reserved for 802.11n or 802.11ac clients and bonded channels can be configured.\n\nAlso consider that not all clients supporting 802.11n have dual band radios. If a client cannot connect to a network operating on the 5 GHz band, check whether its radio is 2.4 GHz-capable only.\n\nLOW RF SIGNAL/RSSI\nA wireless adapter will be configured to drop the connection speed if the Received Signal Strength Indicator (RSSI) is not at a minimum required level. The RSSI is an. index level calculated from the signal strength level. For example, an 802.11n adapter might be capable of a 144 Mbps data rate with an optimum signal, but if the signal is weak it might drop to a 54 Mbps or 11 Mbps rate to make the connection more reliable. If the RSSIis too low, the adapter will drop the connection entirely and try to use a different network. If there are two fairly weak networks, the adapter might “flap” between them. Try moving to a location with better reception.\n\nTROUBLESHOOTING WIRELESS SIGNAL ISSUES\nIf a device is within the supported range but the signal is very weak or you can only get an intermittent connection, there is likely to be interference from another radio source broadcasting at the same frequency. If this is the case, try adjusting the channel that the devices use. Another possibility is interference from a powerful electromagnetic source, such as a motor or microwave oven. Finally, there might be something blocking the signal. Radio waves do not pass easily through metal or dense objects. Construction materials such as wire mesh, foil-backed plasterboard, concrete, and mirrors can block or degrade signals. Try angling or repositioning the device or antenna to try to get better reception.\n\nNote: The ideal position for an access point is high up and in the center of the area it is supposed to serve.\n\n[file:///fig-core-2-308.png]\nSurveying WiFi networks using inSSiDer.\n\nWi-Fi Analyzer software, such as inSSIDer, is designed to support a site survey, to identify nearby networks that may be causing interference problems, and to measure signal strength. You can use a Wi-Fi Analyzer for troubleshooting, too. It shows the signal strength, measured in dBm. This can also be expressed as a percentage; for example, -35 dBm or better would represent the best possible signal at 100%, -90 dBm or worse would represent 19, and -65 dBm would represent 50% signal strength.\n\nThe analyzer will also show how many networks are utilizing each channel. Setting the network to use a less congested channel can improve performance.\ntag:C2 L4 TE

IP CONFIGURATION ISSUES\n\nIf host does not have an appropriate IP configuration for the network that itis connected to, it will not be able to communicate with other hosts, even if the physical connection is sound. There are a number of command-line tools for testing and troubleshooting the IP configuration.\n\nVIEWING IP CONFIGURATION (ipconfig)\nIn Windows, IP configuration information is displayed through the adapter's status dialog (Windows 7/8) or Windows Settings (Windows 10). You can also view this information at a command line using the ipconfig tool. Used without switches, ipconfig displays the IP address, subnet mask, and default gateway (router) for all network adapters to which TCP/IP is bound, Typical ipconfig switches and arguments are as follows.\n\n| Switch | Description |\n| ------ | ----------- |\n| ipconfig /all | Displays detailed configuration, including DHCP and DNS servers, MAC address, and NetBIOS status. |\n| ipconfig /release AdapterName | Releases the IP address obtained from a DHCP server so that the network adapter(s) will no longer have an IP address. |\n| ipconfig /renew AdapterName | Forces a DHCP client to renew the lease it has for an IP address. |\n| ipconfig /displaydns | Displays the DNS resolver cache. This contains host and domain names that have been queried recently. Caching the name-to-IP mappings reduces network traffic. |\n| ipconfig /flushdns | Clears the DNS resolver cache. |\n\nNote that omitting the Adapt erName argument releases or renews all adapters. If AdapterName contains spaces, use quotes around it (for example, ipconfig /renew "Local Area Connection").\n\nTROUBLESHOOTING WITH ipconfig\nYou would use ipconfig to determine whether the adapter has been correctly configured. ipconfig can resolve the following questions:\n\n• Is the adapter configured with a static address? Are the parameters (IP address, subnet mask, default gateway, and DNS server correct)?\n\n• Isthe adapter configured by DHCP? If so:\no An address in the range 169.254.x,y indicates that the client could not contact a DHCP server and is using Automatic Private IP Addressing (APIPA). If this is the case, Windows will display a yellow alert icon and a notification that the adapter has only Limited connectivity.\n\n• ADHC? lease can be static (always assigns the same IP address to the computer) or dynamic (assigns an IP address from a pool}—has the computer obtained a suitable address and subnet mask?\n\n• Are other parameters assigned by DHCP correct (default gateway, DNS servers, and so on)?\n \n[file:///fig-core-2-310.png]\nUsing ipconfig. (Screenshot used with permission from Microsoft)\n\nIf any of these results are negative, you should investigate either communications between the client and the DHCP server, the configuration of the DHCP server, or whether multiple DHCP servers are running on the network (and the client has obtained the wrong configuration from one).\nifconfig\nUNIX and Linux hosts provide a command called ifconfig, which provides similar  output to Windows' ipconfig program. Note some differences between the Windows and Linux commands:\n\n• ifconfig can also be used to bind an address to an adapter interface, set up communication parameters, and enable or disable the adapter.\n\n• The Windows switches for configuring the adapter with DHCP and DNS are not supported by ifconfig.\n\n• The ifconfig command output does not show the default gateway (use route instead). It does show traffic statistics, though.\n\n\n[file:///fig-core-2-311.png]\nUsing ifconfig. (Screenshot used with permission from Microsoft)\n\nNote: Additionally, a separate command (iwconfig) is used to manage wireless interfaces. Note that both these commands are deprecated in favor of the newer ip and iw utilities.\ntag:C2 L4 TE

IP CONNECTIVITY ISSUES\n\nIf the link and IP configuration both seem to be correct, the problem may not lie with the local machine but somewhere in the overall network topology. You can test connections to servers such as files shares, printers, or email by trying to use them. One drawback of this method is that there could be some sort of application fault rather than a network fault. Therefore, it is useful to have a low-level test of basic connectivity that does not have any dependencies other than a working link and IP configuration.\n\nping\nThe ping utility is a command-line diagnostic tool used to test whether a host can communicate with another host on the same network or on a remote network. it is the basic tool to use to establish that a link is working. ping uses the Internet Control Message Protocol (ICMP) to request status messages from hosts. The following steps outline the procedures for verifying a computer's configuration and for testing router connections:\n\n1. Ping the loopback address to verify TCP/IP is installed and loaded correctly (ping 127.0.0.1)—the loopback address is a reserved IP address used for testing purposes.\n\n2. Ping the IP address of your workstation to verify it was added correctly and to check for possible duplicate IP addresses.\n\n3, Ping the IP address of the default gateway to verify it is up and running and that you can communicate with a host on the local network.\n\n4, Ping the IP address of a remote host to verify you can communicate through the router. If no router is available, Windows will display a yellow alert icon and a notification that the adapter has No Internet access.\n\n[file:///fig-core-2-312.png]\nTroubleshooting with ping.\n\nIf ping is successful, it responds with the message Reply from IP Address and the time it takes for the server's response to arrive. The millisecond measures of Round Trip Time (RTT) can be used to diagnose latency problems on a link.\n\nIf ping is unsuccessful, one of two messages are commonly received:\n\n• Destination unreachable—there is no routing information (that is, the local computer or an intermediate router does not know how to get to that IP address). If the host is on the same network, check the local IP configuration—IP address, subnet mask, and so on. If you can discount any configuration error, then there may be a hardware or cabling problem. if the host is on another network, check the IP configuration and router.\n\n• No reply (Request timed out)—the host is unavailable or cannot route a reply back to your computer. Check physical cabling and infrastructure devices such as the switch, If the host is on a remote network, try using tracert (described shortly).\n\nNote: Be aware that ICMP traffic is often blocked by firewalls, making a response such as request timed out or destination unreachable inevitable. As well as network firewalls, consider that a host firewall, such as Windows Firewall, might be blocking ICMP.\n\nTESTING DNS\nYou can also ping DNS names (ping comptia.org, for example) or FQDNs (ping sales.comptia.org, for instance). This will not work if a DNS server is. unavailable. Use the - a switch to perform a reverse lookup on an IP address to try to get the host name. For example, ping -a 192.168.1.1 should return the message "Pinging HostName [192.168.1.1]."\n\nTROUBLESHOOTING AN IP CONFLICT\nTwo systems could end up with the same IP address because of a configuration error; perhaps both addresses were statically assigned or one was assigned an address that was part of a DHCP scope by mistake. If Windows detects a duplicate IP address, it will display a warning and disable IP. If there are two systems with duplicate IPs, a sort of “race condition” will determine which receives traffic. Obviously, this is not a good way for the network to be configured and you should identify the machines and set them to use unique addresses.\ntag:C2 L4 TE

ROUTING ISSUES\n\nThe tracert command-line utility is used to trace the route a packet of information takes to get to its target. Like ping, it uses ICMP status messages. For example, a user might type the following: tracert 10.0.0.1. This command would return details of the route taken to find the machine or device with the IP address of 10.0.0.1. tracert can also be used with a domain name or FQDN, such as: tracert comptia.org.\n\n[file:///fig-core-2-313.png]\nUsing tracert—the first trace to a local private network has failed but the trace over the Internet to gtslearning.com's web server has succeeded, passing first through the SOHO router then through the routers belonging to the user's ISP, then the routers belonging to the web host. (Screenshot used with permission from Microsoft.)\n\nIf the host cannot be located, the command will eventually timeout but it will return every router that was attempted. The output shows the number of hops (when a packet is transferred from one router to another), the ingress interface of the router or host (that is, the interface from which the router receives the ICMP packet), and the time taken to respond to each probe in milliseconds (ms). If no acknowledgement is received within the timeout period, an asterisk is shown against the probe.\n\nNote; ping and tracert use internet Control Message Protocol (ICMP) traffic. A firewall may be configured to block this traffic to prevent network snooping.\ntag:C2 L4 TE

UNAVAILABLE RESOURCES\n\nIf you cannot identify a problem with the cabling, switches/routers, or the IP configuration, you should start to suspect a problem at a higher layer of processing. There are three main additional “layers” where network services fail:\n\n• Security—a firewall or other security software or hardware might be blocking the connection.\n\n• Name resolution—if a service such as DNS is not working, you will be able to connect to file/print/email services by IP address but not by name.\n\n• Application/OS—the software underpinning the service might have failed. If the OS has failed, there might not be any sort of connectivity to the host server. If the server can be contacted, but not a specific service, the service process might have crashed.\n\nWhen troubleshooting Internet access or unavailable local network resources, such as file shares, network printers, and email, try to establish the scope of the problem. If you can connect to these services using a different host, the problem should lie with the first client. If other hosts cannot connect, the problem lies with the application server or print device or with network infrastructure between the client and the server.\n\nTROUBLESHOOTING INTERNET AVAILABILITY\nWhen Windows reports that a network adapter has "No Internet access,” it means that the IP configuration is valid but that Windows cannot identify a working Internet connection. Windows tests Internet access by attempting a connection to www.msftncsi.com and checking that DNS resolves the IP address correctly.\n\nIf the local PC settings are correct, locate your ISP's service status page or support helpline to verify that there are no wider network issues or DNS problems that might make your Internet connection unavailable. If there are no ISP-wide issues, try restarting the router/modem.\n\nNote: Do not restart a router without considering the impact on other users!\n\nIf these measures don't help, also consider that there might be some sort of security issue, such as a proxy configuration not working or a firewall blocking the host.\n\nPERFORMING A NETWORK RESET\nIf there are persistent network problems with either a client or a server, one "stock" response is to try restarting the computer hardware. You can also try restarting just, the application service.\n\nNote: As before, do not restart a server without considering the impact on other users. A restart is probably only warranted if the problem is widespread.\n\nIn Windows, you can try running the network troubleshooter app to automatically diagnose and fix problems. Another option is to reset the network stack on the device. In Windows, this will clear any custom adapter configurations and network connections, including VPN connections. These will have to be reconfigured after the reset.\n\nIn Windows 10, there is a Network reset command on the Settings→Network & Internet—-Status page. In Windows 7/8, you can use the Network Adapter troubleshooter or run the following commands (as administrator):\n\nipeonfig /flushdns\n\nnetsh int ip reset resetlog.txt\n\nnetsh winsock reset\n\nUse Device Manager to remove any network adapters. Reboot the computer and allow Windows to detect and install the adapter(s) again. Update network settings on all adapters to the appropriate configuration.\n\nnetstat\nNetstat can be used to investigate open ports and connections on the local host. In a troubleshooting context, you can use this tool to verify whether file sharing or email ports are open on a server and whether other clients are connecting to them.\n\n[file:///fig-core-2-315.png]\nDisplaying open connections with netstat. (Screenshot used with permission from Microsoft)\n\nThe following represent some of the main switches that can be used:\n\n• -a displays all the connections and listening ports.\n\n• -b shows the process that has opened the port.\n\n• -n displays ports and addresses in numerical format. Skipping name resolution speeds up each query.\n\nLinux supports a similar utility with slightly different switches.\n\nnslookup\nIf you identify or suspect a problem with name resolution, you can troubleshoot DNS with the ns| ookup command, either interactively or from the command prompt:\n\nnslookup -Option Host Server\n\nHost can be either a host name/FQDN or an IP address. Server is the DNS server to query; the default DNS server is used if this argument is omitted. -Option specifies an nslookup subcommand. Typically, a subcommand is used to query a particular DNS record type.\n\nFor example, the following command queries Google's public DNS servers (8.8.8.8) for information about comptia.org's mail records:\n\nnslookup -type=nx comptia.org 8.8.8.8\n\n[file:///fig-core-2-316.png]\nUsing nslookup to query the mail server configured for the comptia.org domain name using Google's Public DNS servers (8.8.8.8). (Screenshot used with permission from Microsoft)\n\nIf you query a different name server, you can compare the results to those returned by your own name server. This might highlight configuration problems.\n\nNote: The dig utility is often used as a more up-to-date and flexible alternative to nslookup. dig allows you to query a name server directly and retrieve any of the information known about the domain name. It is helpful in determining if th server is running correctly and if the domain record is properly configured.\ntag:C2 L4 TE

Activity 4-6\nDiscussing Network Connection Troubleshooting\n\nSCENARIO\nAnswer the following questions to check your understanding of the topic.\n\n1. You are trying to add a computer to a wireless network but cannot detect the access point.  What would you suspect the problem to be?\n\n2. What readings would you expect to gather with a Wi-Fi analyzer?\n\n3. You have restarted the DHCP server following a network problem,  What command would you use to refresh the IP configuration on Windows 7 client workstations?\n\n4. What command can you use on a Linux computer to report the IP configuration?\n\n5. A single PC on a network cannot connect to the Internet. Where would you start troubleshooting?\n\n6. A computer cannot connect to the network. The machine is configured to obtain a TCP/IP configuration automatically. You use ipconfig to determine the IP address and it returns 0.0.0.0.  What does this tell you?\n\n7. If a host has a firewall configured to block outgoing ICMP traffic, what result would you expect from pinging the host (assuming that the path to the host. is otherwise OK)?\n\n8. What Windows tool is used to test the end-to-end path between two IP hosts on different IP networks?\n\n9. Which command produces the output shown in this graphic?\n\n[file:///fig-core-2-318.png]\nCommand output exhibit: (Screenshot used with permission from Microsoft)\ntag:C2 L4 TE A4-6

Activity 4-7\nTroubleshooting Network Connections\n\nBEFORE YOU BEGIN\nTake a moment to review the VMs available on the virtual network.\n\n[file:///fig-core-2-319.png]\nNetwork environment for troubleshooting network connections.\n\nSCENARIO\nIn this activity, you will run scripts that simulate network connectivity problems. You will then use troubleshooting tools and techniques to detect and fix the problems.\n\n1. Start the VMs to create the network.\nYou do not need to open connection windows for the VMs unless you are specifically Prompted to do so.\n\na) If necessary, in Hyper-V Manager, right-click RTI-LOCAL and select Start.\n\nb) Ifnecessary, right-click DC1 and select Start.\n\nc) Wait until the DC1 thumbnail shows the logon screen, and then start MSL.\n\nd) Wait until the MS1 thumbnail shows the logon screen, and then start PC1 and PC2.\n\ne) Open a connection window for PCL.\n\nf) Sign on, using the account 515support\Administrator and password Pa$$w0rd\n\n2. Test that the VMs on the local network can communicate with one another.\n\na) On the Windows 10 VM, open a command prompt.\n\nb) Type ipconfig /all and press Enter.\nExamine the details of your IP configuration, and verify that the configuration of the Ethernet adapter matches the information shown in the figure at the start of the activity.\n\nd) Run this command: ping 127.0.0.1\nThis command verifies that IP is installed correctly by performing a connection test with the loopback adapter (essentially pinging the local host).\n\ne) Run this command: ping 10.1.0.x where x is the value reported by ipconfig for the IPv4 address.\nThis command checks the IP assigned by DHCP.\n\nf) Run this command: ping 10.1.0.254\nThis command checks the connection to the default gateway.\n\ng) Run this command: ping DC1 -4\nThis command tests name resolution and connectivity with the other hosts on the network. The -4 switch forces ping to use IPV4, rather than IPv6.\n\nh) Run this command: ping MS1 -4\nThis command tests name resolution and connectivity with the other hosts on the network. The -4 switch forces ping to use IPv4, rather than IPv6.\n\ni) Run this command: ping PC2 -4\nThis command tests name resolution and connectivity with the other hosts on the network. The -4 switch forces ping to use IPv4, rather than IPv6.\n\nj) Leave the command prompt open.\n\nk) Start a web browser, and open http://updates.corp.515support.com\n\nl) Open File Explorer, and browse \\DC1\LABFILES.\n\nm) At the command prompt, run netstat -no\nThis command checks the connections that you just established.\n\nn) Run this command: nslookup -type=SOA corp.515support.com\nThis command checks information about how the DNS service is administered.\n\no) Switch back to the web browser, select the Settings and more button at the top right, and then select Settings.\n\np) Select the Choose what to clear button,\n\nq) Select Always clear this when I close the browser to toggle this setting to On.\n\nr) Close the browser window.\n\n3. Run a script to create a problem with the network configuration that you will diagnose and correct.\n\na) On the PC1 VM computer, activate the Instant Search box, and type power shell\n\nb) Right-click the Windows PowerShell icon and select Run as administrator.\n\nc) In the UAC prompt box, select Yes.\n\nd) In the Windows PowerShell window, type C:\labfiles\netprobl and press Enter.\n\ne) Leave the PowerShell window open.\n\nf) Repeat the tests you performed in step 2 ofthis activity to try and identify the problem that was introduced.\n\ng) Think about the problem and how you would you fix it. Apply the appropriate fix for the problem you discovered.\n\nh) If you could not resolve the problem, at the PowerShell prompt, run C:\labfiles\netprob1-fix to reset the configuration to its original state.\n\n4. Run another script to introduce another problem to troubleshoot.\n\na) At the Powershell prompt on the PCLVM, type: \labfiles\netprob2 and press Enter.\n\nb) Leave the PowerShell window open.\n\nc) Repeat the tests you performed in step 2 of this activity to try and identify the problem that was introduced, along with a proposed solution.\n\nd) Apply the appropriate fix for the problem you discovered.\n\ne) If you could not resolve the problem, at the PowerShell prompt, run C:\labfiles\netprob2-fix to reset the configuration to its original state.\n\n5. At the end of each activity, you need to close the VMs and discard any changes you made.\n\na) From the connection window, select Action Revert.\n\nb) If you are prompted to confirm, select the Revert button,\n\nc) On the HOST PG, in the Hyper-V Manager console, right-click each VM that is stil running and select Revert. At the end of the activity, the state of each VM should be listed as OFF.\ntag:C2 L4 TE A4-7

Summary\n\nIn this lesson, you configured and performed troubleshooting on SOHO and other networks. Ensuring consistent access to network resources is often an integral part of an A+ technician's day-to-day duties.\n\nWhat experiences do you have in working with the networking technologies discussed in this lesson?\n\nDo you have any experience working with SOHO networks? What do you expect to support in future job functions?\ntag:C2 L4 SUMMARY


